<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">


    <div id="layout-config" class="layout-config">
        <div class="layout-config-content">
            <a href="#" id="layout-config-button" class="layout-config-button">
                <i class="material-icons">settings</i>
            </a>
            <a href="#" class="layout-config-close">
                <i class="material-icons">clear</i>
            </a>
            <h:form id="config-form">
                <p:tabView id="config-form-tabs">
                    <p:tab title="Menu">
                        <p:outputPanel id="menumodes-panel">
                            <h1>Menu Modes</h1>
                            <div class="panel-items">
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setMenuLayout('static')}"
                                        oncomplete="PrimeFaces.UltimaConfigurator.changeMenuToStatic()"
                                        update=":config-form:config-form-tabs:menumodes-panel :config-form:config-form-tabs:userprofile-panel menuform">
                                        <p:graphicImage name="images/configurator/menu/ultima-static.png"
                                            library="ultima-layout" title="Static" />
                                            <ui:fragment rendered="#{guestPreferences.menuLayout == 'menu-layout-static'}">
                                                <i class="material-icons">check</i>
                                            </ui:fragment>
                                    </p:commandLink>
                                    <span>Static</span>
                                </div>
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setMenuLayout('overlay')}"
                                        oncomplete="PrimeFaces.UltimaConfigurator.changeMenuToOverlay()"
                                        update=":config-form:config-form-tabs:menumodes-panel :config-form:config-form-tabs:userprofile-panel menuform">
                                        <p:graphicImage name="images/configurator/menu/ultima-overlay.png"
                                            library="ultima-layout" title="Overlay" />
                                            <ui:fragment rendered="#{guestPreferences.menuLayout == 'menu-layout-overlay'}">
                                                <i class="material-icons">check</i>
                                            </ui:fragment>
                                    </p:commandLink>
                                    <span>Overlay</span>
                                </div>
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setMenuLayout('horizontal')}"
                                        oncomplete="PrimeFaces.UltimaConfigurator.changeMenuToHorizontal()"
                                        update=":config-form:config-form-tabs:menumodes-panel :config-form:config-form-tabs:userprofile-panel menuform topbar-items-form">
                                        <p:graphicImage name="images/configurator/menu/ultima-horizontal.png"
                                            library="ultima-layout" title="Horizontal" />
                                            <ui:fragment rendered="#{guestPreferences.menuLayout == 'menu-layout-static menu-layout-horizontal'}">
                                                <i class="material-icons">check</i>
                                            </ui:fragment>
                                    </p:commandLink>
                                    <span>Horizontal</span>
                                </div>
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setMenuLayout('slim')}"
                                        oncomplete="PrimeFaces.UltimaConfigurator.changeMenuToSlim()"
                                        update=":config-form:config-form-tabs:menumodes-panel :config-form:config-form-tabs:userprofile-panel menuform">
                                        <p:graphicImage name="images/configurator/menu/ultima-slim.png"
                                            library="ultima-layout" title="SLim" />
                                            <ui:fragment rendered="#{guestPreferences.menuLayout == 'menu-layout-static layout-menu-slim'}">
                                                <i class="material-icons">check</i>
                                            </ui:fragment>
                                    </p:commandLink>
                                    <span>Slim</span>
                                </div>
                            </div>
                        </p:outputPanel>

                        <p:outputPanel id="menucolors-panel">
                            <h1>Menu Colors</h1>
                            <div class="panel-items">
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setDarkMenu()}"
                                        oncomplete="PrimeFaces.UltimaConfigurator.changeMenuToDark()"
                                        update=":config-form:config-form-tabs:menucolors-panel menuform">
                                        <p:graphicImage name="images/configurator/menu/ultima-dark.png"
                                            library="ultima-layout" title="Dark" />
                                        <ui:fragment rendered="#{guestPreferences.menuClass == 'layout-menu-dark'}">
                                            <i class="material-icons">check</i>
                                        </ui:fragment>
                                    </p:commandLink>
                                    <span>Dark </span>
                                </div>
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setLightMenu()}"
                                        oncomplete="PrimeFaces.UltimaConfigurator.changeMenuToLight()"
                                        update=":config-form:config-form-tabs:menucolors-panel menuform">
                                        <p:graphicImage name="images/configurator/menu/ultima-static.png"
                                            library="ultima-layout" title="Light" />
                                        <ui:fragment rendered="#{guestPreferences.menuClass == null}">
                                            <i class="material-icons">check</i>
                                        </ui:fragment>
                                    </p:commandLink>
                                    <span>Light</span>
                                </div>
                            </div>
                        </p:outputPanel>

                    </p:tab>
                    <p:tab title="User Profile">
                        <p:outputPanel id="userprofile-panel">
                            <div class="panel-items">
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setProfileMode('inline')}"
                                        ajax="false " update=":config-form:config-form-tabs:userprofile-panel menuform"
                                        disabled="#{guestPreferences.menuLayout == 'menu-layout-static menu-layout-horizontal'}">
                                        <p:graphicImage name="images/configurator/menu/ultima-inline.png"
                                            library="ultima-layout" title="Inline" />
                                        <ui:fragment rendered="#{guestPreferences.profileMode == 'inline'}">
                                            <i class="material-icons">check</i>
                                        </ui:fragment>
                                    </p:commandLink>
                                    <span>Inline</span>
                                </div>
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setProfileMode('overlay')}"
                                        ajax="false" update=":config-form:config-form-tabs:userprofile-panel menuform"
                                        disabled="#{guestPreferences.menuLayout == 'menu-layout-static menu-layout-horizontal'}">
                                        <p:graphicImage name="images/configurator/menu/ultima-popup.png"
                                            library="ultima-layout" title="Overlay" />
                                        <ui:fragment rendered="#{guestPreferences.profileMode == 'overlay'}">
                                            <i class="material-icons">check</i>
                                        </ui:fragment>
                                    </p:commandLink>
                                    <span>Overlay</span>
                                </div>
                            </div>
                        </p:outputPanel>
                    </p:tab>

                    <p:tab title="Size">
                        <p:outputPanel id="sizes-panel">
                            <div class="panel-items">
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setCompact(true)}" 
                                        update=":config-form:config-form-tabs:sizes-panel"
                                        oncomplete="PrimeFaces.UltimaConfigurator.setCompact(true)" >
                                        <p:graphicImage name="images/configurator/menu/ultima-compact.png"
                                            library="ultima-layout" title="Compact" />
                                        <ui:fragment rendered="#{guestPreferences.compact == true}">
                                            <i class="material-icons">check</i>
                                        </ui:fragment>
                                    </p:commandLink>
                                    <span>Compact Size</span>
                                </div>
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setCompact(false)}" 
                                        update=":config-form:config-form-tabs:sizes-panel"
                                        oncomplete="PrimeFaces.UltimaConfigurator.setCompact(false)">
                                        <p:graphicImage name="images/configurator/menu/ultima-material.png"
                                            library="ultima-layout" title="Material" />
                                        <ui:fragment rendered="#{guestPreferences.compact == false}">
                                            <i class="material-icons">check</i>
                                        </ui:fragment>
                                    </p:commandLink>
                                    <span>Material Size</span>
                                </div>
                            </div>
                        </p:outputPanel>

                    </p:tab>

                    <p:tab title="Orientation">
                        <p:outputPanel id="orientation-panel">
                            <div class="panel-items">
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setOrientationRTL(false)}"
                                        oncomplete="PrimeFaces.UltimaConfigurator.changeMenuToLTR()"
                                        update=":config-form:config-form-tabs:orientation-panel">
                                        <p:graphicImage name="images/configurator/menu/ultima-static.png"
                                            library="ultima-layout" title="LTR" />
                                        <ui:fragment rendered="#{!guestPreferences.orientationRTL}">
                                            <i class="fa fa-check"></i>
                                        </ui:fragment>
                                    </p:commandLink>
                                    <span>LTR</span>
                                </div>
                                <div class="panel-item">
                                    <p:commandLink actionListener="#{guestPreferences.setOrientationRTL(true)}"
                                        oncomplete="PrimeFaces.UltimaConfigurator.changeMenuToRTL()"
                                        update=":config-form:config-form-tabs:orientation-panel">
                                        <p:graphicImage name="images/configurator/menu/ultima-rtl.png"
                                            library="ultima-layout" title="RTL" />
                                        <ui:fragment rendered="#{guestPreferences.orientationRTL}">
                                            <i class="fa fa-check"></i>
                                        </ui:fragment>
                                    </p:commandLink>
                                    <span>RTL</span>
                                </div>
                            </div>
                        </p:outputPanel>
                    </p:tab>

                    <p:tab title="Themes">
                        <p:outputPanel id="componentthemes-panel">
                            <div class="panel-items">
                                <ui:repeat value="#{guestPreferences.componentThemes}" var="componentTheme">
                                    <div class="panel-item colors">
                                        <p:commandLink
                                            actionListener="#{guestPreferences.setTheme(componentTheme.file)}"
                                            update=" :config-form:config-form-tabs:componentthemes-panel"
                                            oncomplete="PrimeFaces.UltimaConfigurator.changeComponentsTheme('#{componentTheme.file}')"
                                            styleClass="layout-config-option">
                                            <p:graphicImage name="images/configurator/theme/#{componentTheme.image}"
                                                library="ultima-layout" title="#{componentTheme.name}" />
                                            <ui:fragment rendered="#{componentTheme.file eq guestPreferences.theme}">
                                                <i class="material-icons">check</i>
                                            </ui:fragment>
                                        </p:commandLink>
                                    </div>
                                </ui:repeat>
                            </div>
                        </p:outputPanel>
                    </p:tab>
                </p:tabView>
            </h:form>
        </div>
    </div>
</ui:composition>